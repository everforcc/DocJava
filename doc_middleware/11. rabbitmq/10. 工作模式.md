<span  style="font-family: Simsun,serif; font-size: 17px; ">

[TOC]

### 1.1 六种工作模式

1. 简单模式
2. 工作队列模式
3. 发布订阅模式
4. 路由模式
5. 通配符模式
6. 远程调用模式

### 1.2 交换机

- Fanout：广播
- Direct：定向
- Topic：话题

### 1.3 headers

- 通过 x-match 匹配的方式
- ![](./pic/4.%20headers.jpg)

### 2.1. 简单模式

- 一个生产者对应一个消费者
- 使用默认交换机 direct

### 2.2. 工作队列模式

- 多个消费者绑定到一个队列，可以加快消息处理速度
- 同一条消息只会被一个消费者处理
- 默认采用轮询的方式将消息平均发送给消费者
- 也使用交换机 direct

### 2.3. 发布订阅模式

- fanout交换器
- 生产者将消息发送给交换机，交换机将消息转发到绑定此交换机的每个队列中
- 工作队列模式的交换机只能将消息发送给一个队列，发布订阅模式的交换机能将消息发送给多个队列

### 2.4. 路由模式

- 每个队列绑定路由关键字 RoutingKey
- 生产者将带有 RoutingKey 的消息发送给交换机，交换机根据 RoutingKey 转发到指定队列
- 使用 direct交换机

### 2.5. 通配符模式

- 消息设置RoutingKey时，RoutingKey由多个单词构成，中间用 . 分割
- 队列设置RoutingKey时，RoutingKey可以匹配任意多个单词，*可以匹配任意一个单词

### 2.6. 远程调用模式

- RPC模式，不咋用

</span>