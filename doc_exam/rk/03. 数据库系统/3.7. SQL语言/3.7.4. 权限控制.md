<span  style="font-family: Simsun,serif; font-size: 17px; ">

[TOC]

### 权限授予（GRANT）

~~~
GRANT 权限1, 权限2, ... 
ON 数据库对象 
TO 用户/角色 
[WITH GRANT OPTION ]; -- 可选：允许被授权者将权限再授予他人
~~~

### 典型应用场景：

~~~sql
select *
from zn_test;
~~~

#### 1. 授予表的基本操作权限

~~~sql
-- 给用户user1授予student表的查询和插入权限
-- CREATE权限通常是数据库级别的权限，而不是表级别的权限。对于已经存在的具体表（如zn_test），用户不需要CREATE权限。
GRANT SELECT, INSERT, UPDATE, DELETE, ALTER, INDEX, DROP
    ON zn_test
    TO user1;
~~~

#### 2. 授予表的所有操作权限

- 表

~~~sql
GRANT ALL PRIVILEGES
    ON zn_test
    TO user2;
~~~

- 库

~~~sql
-- 给用户user2授予sc表的所有数据操作权限（SELECT/INSERT/UPDATE/DELETE）
GRANT ALL PRIVILEGES
    ON smartparklocal
    TO user2;
~~~

- 库里面所有表

~~~sql
GRANT ALL PRIVILEGES
    ON smartparklocal.*
    TO user2;
~~~

#### 3. 授予数据库级权限

~~~sql
-- 给用户admin授予testdb数据库中所有表的创建和修改权限
GRANT CREATE, ALTER
    ON smartparklocal.*
    TO user3;
~~~

#### 4. 允许权限传递（WITH GRANT OPTION）

~~~sql
-- 给user3授予course表的查询权限，并允许其将该权限授予他人
GRANT SELECT
    ON zn_test
    TO user3
    WITH GRANT OPTION;
~~~

### 权限回收（REVOKE）

~~~
REVOKE 权限1, 权限2, ... 
ON 数据库对象 
FROM 用户/角色;
~~~

### 典型应用场景：

#### 1. 回收部分权限

~~~sql
-- 收回user1对student表的插入权限（保留查询权限）
REVOKE INSERT
    ON zn_test
    FROM user1;
~~~

#### 2. 回收所有权限

~~~sql
-- 收回user2对sc表的所有权限
REVOKE ALL PRIVILEGES
    ON zn_test
    FROM user2;
~~~

#### 3. 级联回收（因权限传递产生）

- CASCADE
- （尤指信息或知识等的）连续传递过程

~~~sql
-- 若user3曾将course表的查询权限授予user4，收回user3的权限时可级联收回user4的权限

-- 支持CASCADE的数据库系统（如PostgreSQL）
REVOKE SELECT
    ON zn_test
    FROM user3 CASCADE;
-- CASCADE：级联回收所有派生权限

-- 不支持CASCADE的数据库系统（如MySQL）
REVOKE SELECT
    ON zn_test
    FROM user3; -- 需要手动清理派生权限


~~~

</span>