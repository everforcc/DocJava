# 13.3.1. 树知识点概述

## 概述
树是一种重要的非线性数据结构，它是由n(n≥0)个有限节点组成一个具有层次关系的集合。树结构在计算机科学中有着广泛的应用，如文件系统、数据库索引、编译器语法分析等。

## 树的基本概念

### 定义
树是n(n≥0)个节点的有限集合，当n=0时称为空树。在任意一棵非空树中：
1. 有且仅有一个特定的节点称为根节点
2. 当n>1时，其余节点可分为m(m>0)个互不相交的有限集合T₁,T₂,...,Tₘ，其中每一个集合本身又是一棵树，称为根节点的子树

### 基本术语
- **节点**：树中的每个元素称为节点
- **根节点**：树的最顶层节点，没有父节点
- **叶子节点**：没有子节点的节点
- **内部节点**：有子节点的节点
- **父节点**：一个节点的直接上级节点
- **子节点**：一个节点的直接下级节点
- **兄弟节点**：具有相同父节点的节点
- **祖先节点**：从根节点到该节点路径上的所有节点
- **子孙节点**：以该节点为根的子树中的所有节点

### 树的层次结构
```
         A (根节点)
        / \
       B   C (兄弟节点)
      / \   \
     D   E   F
    /
   G
```

## 树的基本性质

### 1. 层次性
树具有明显的层次结构，每个节点都有确定的层次。

### 2. 唯一性
- 每个节点都有唯一的父节点（除根节点外）
- 从根节点到任意节点都有唯一的路径

### 3. 连通性
树是连通的，任意两个节点之间都有路径相连。

### 4. 无环性
树中不存在环路。

### 5. 基本关系
- 节点数 = 边数 + 1
- 叶子节点数 = 内部节点数 + 1（对于二叉树）

## 树的分类

### 1. 按节点度数分类
- **二叉树**：每个节点最多有两个子节点
- **三叉树**：每个节点最多有三个子节点
- **多叉树**：每个节点可以有多个子节点

### 2. 按结构分类
- **有序树**：节点的子树有明确的顺序
- **无序树**：节点的子树没有顺序要求

### 3. 按平衡性分类
- **平衡树**：左右子树高度差不超过1
- **不平衡树**：左右子树高度差超过1

### 4. 按存储方式分类
- **顺序存储**：使用数组存储
- **链式存储**：使用指针存储

## 二叉树

### 定义
二叉树是每个节点最多有两个子树的树结构，通常子树被称作"左子树"和"右子树"。

### 二叉树的性质
1. 第i层上最多有2^(i-1)个节点
2. 深度为k的二叉树最多有2^k-1个节点
3. 叶子节点数 = 度为2的节点数 + 1
4. 具有n个节点的完全二叉树的深度为⌊log₂n⌋+1

### 特殊二叉树
- **满二叉树**：每一层都有最大数量的节点
- **完全二叉树**：除了最后一层，其他层都是满的，最后一层从左到右连续
- **二叉搜索树**：左子树所有节点值小于根节点，右子树所有节点值大于根节点
- **平衡二叉树**：左右子树高度差不超过1
- **红黑树**：自平衡的二叉搜索树
- **AVL树**：高度平衡的二叉搜索树

## 树的遍历

### 深度优先遍历（DFS）
1. **前序遍历**：根 → 左 → 右
2. **中序遍历**：左 → 根 → 右
3. **后序遍历**：左 → 右 → 根

### 广度优先遍历（BFS）
- **层序遍历**：按层次从上到下，从左到右访问节点

## 树的应用

### 1. 文件系统
- 目录结构
- 文件组织
- 路径查找

### 2. 数据库
- B树索引
- B+树索引
- 查询优化

### 3. 编译器
- 语法分析树
- 抽象语法树
- 表达式求值

### 4. 网络
- 路由表
- 网络拓扑
- 最短路径

### 5. 人工智能
- 决策树
- 搜索树
- 博弈树

## 树的存储结构

### 1. 顺序存储
使用数组存储，适合完全二叉树。

### 2. 链式存储
使用指针存储，适合任意树结构。

### 3. 混合存储
结合顺序和链式存储的优点。

## 树的操作

### 基本操作
- **创建**：创建一棵新树
- **插入**：在树中插入新节点
- **删除**：从树中删除节点
- **查找**：在树中查找节点
- **遍历**：访问树中的所有节点

### 高级操作
- **平衡**：保持树的平衡性
- **旋转**：调整树的结构
- **合并**：合并两棵树
- **分裂**：将树分成两部分

## 树的复杂度分析

### 时间复杂度
| 操作 | 平均情况 | 最坏情况 |
|------|----------|----------|
| 查找 | O(log n) | O(n) |
| 插入 | O(log n) | O(n) |
| 删除 | O(log n) | O(n) |
| 遍历 | O(n) | O(n) |

### 空间复杂度
- **存储空间**：O(n)
- **递归栈空间**：O(h)，h为树的高度

## 树的优化策略

### 1. 平衡优化
- 使用自平衡树
- 定期重新平衡
- 旋转操作优化

### 2. 存储优化
- 压缩存储
- 缓存优化
- 内存对齐

### 3. 算法优化
- 非递归遍历
- 迭代器模式
- 并行处理

## 学习重点

### 1. 理论基础
- 理解树的基本概念和性质
- 掌握各种特殊树的特点
- 了解树的应用场景

### 2. 实现技能
- 能够实现基本的树操作
- 掌握树的遍历算法
- 理解树的存储方式

### 3. 应用能力
- 能够根据问题选择合适的树结构
- 掌握树的优化方法
- 理解树与其他数据结构的区别

## 考试要点

### 1. 概念理解
- 树的基本定义和性质
- 各种特殊树的特点
- 树的应用场景

### 2. 算法分析
- 遍历算法的时间复杂度
- 查找、插入、删除的复杂度
- 空间复杂度分析

### 3. 实际应用
- 根据问题特点选择树结构
- 树的优化策略
- 树与其他数据结构的比较

## 总结
树是计算机科学中最重要的数据结构之一，掌握树的基本概念、性质、操作和应用，对于学习更复杂的数据结构和算法具有重要意义。在实际应用中，需要根据具体需求选择合适的树结构，并注意处理树的平衡性和性能优化问题。
