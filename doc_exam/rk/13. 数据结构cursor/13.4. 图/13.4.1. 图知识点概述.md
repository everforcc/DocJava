# 13.4.1. 图知识点概述

## 概述
图（Graph）是一种重要的非线性数据结构，由顶点（Vertex）和边（Edge）组成。图可以用来表示各种复杂的关系，如社交网络、交通网络、计算机网络等。图论是计算机科学中的重要分支，在算法设计、网络分析、人工智能等领域有广泛应用。

## 图的基本概念

### 定义
图G由两个集合组成：V（顶点集合）和E（边集合），记作G = (V, E)。

### 基本术语
- **顶点（Vertex/Node）**：图中的基本元素，也称为节点
- **边（Edge）**：连接两个顶点的线段
- **邻接**：如果两个顶点之间有边相连，则称这两个顶点邻接
- **关联**：边与顶点之间的关系
- **度（Degree）**：与顶点相关联的边的数量

### 图的分类

#### 1. 按边的方向分类
- **无向图（Undirected Graph）**：边没有方向，可以双向通行
- **有向图（Directed Graph）**：边有方向，只能单向通行

#### 2. 按边的权重分类
- **无权图（Unweighted Graph）**：边没有权重或权重相等
- **有权图（Weighted Graph）**：边有权重，表示距离、成本等

#### 3. 按连通性分类
- **连通图（Connected Graph）**：任意两个顶点之间都有路径
- **非连通图（Disconnected Graph）**：存在不连通的顶点

#### 4. 按边的数量分类
- **稀疏图（Sparse Graph）**：边数相对较少
- **稠密图（Dense Graph）**：边数相对较多

## 图的基本性质

### 1. 度数的性质
- **无向图**：所有顶点的度数之和等于边数的2倍
- **有向图**：所有顶点的入度之和等于出度之和，都等于边数

### 2. 路径和回路
- **路径（Path）**：顶点序列，相邻顶点之间有边相连
- **简单路径**：路径中不重复经过同一顶点
- **回路（Cycle）**：起点和终点相同的路径
- **简单回路**：回路中不重复经过同一顶点

### 3. 连通性
- **连通**：两个顶点之间存在路径
- **连通分量**：极大连通子图
- **强连通**：有向图中任意两个顶点都相互可达
- **强连通分量**：极大强连通子图

## 特殊图

### 1. 完全图
- **无向完全图**：任意两个顶点之间都有边相连
- **有向完全图**：任意两个顶点之间都有两条方向相反的边

### 2. 二分图
- 顶点可以分为两个集合，每条边连接不同集合中的顶点
- 不存在奇数长度的回路

### 3. 树
- 连通且无回路的图
- n个顶点的树有n-1条边
- 任意两个顶点之间有且仅有一条路径

### 4. 森林
- 由若干棵树组成的图
- 每个连通分量都是树

## 图的表示方法

### 1. 邻接矩阵
使用二维数组表示图，A[i][j]表示顶点i和顶点j之间是否有边。

#### 优点
- 实现简单
- 便于判断两个顶点是否相邻
- 便于计算顶点的度

#### 缺点
- 空间复杂度O(V²)
- 对于稀疏图浪费空间
- 不便于动态添加顶点

### 2. 邻接表
使用链表数组表示图，每个顶点对应一个链表，存储与该顶点相邻的所有顶点。

#### 优点
- 空间复杂度O(V+E)
- 适合稀疏图
- 便于动态添加顶点和边

#### 缺点
- 实现相对复杂
- 判断两个顶点是否相邻需要遍历链表

### 3. 边集
直接存储所有边的集合。

#### 优点
- 实现简单
- 空间复杂度O(E)
- 便于处理边的信息

#### 缺点
- 不便于查找顶点的邻接顶点
- 不便于计算顶点的度

## 图的基本操作

### 1. 创建图
- 初始化顶点集合
- 添加边
- 设置边的权重

### 2. 添加顶点
- 在顶点集合中添加新顶点
- 更新邻接矩阵或邻接表

### 3. 删除顶点
- 从顶点集合中删除顶点
- 删除与该顶点相关的所有边
- 更新邻接矩阵或邻接表

### 4. 添加边
- 在边集合中添加新边
- 更新邻接矩阵或邻接表

### 5. 删除边
- 从边集合中删除边
- 更新邻接矩阵或邻接表

### 6. 查找操作
- 查找顶点
- 查找边
- 查找邻接顶点

## 图的遍历

### 1. 深度优先搜索（DFS）
从某个顶点开始，尽可能深地搜索图的分支。

#### 算法步骤
1. 访问起始顶点
2. 标记该顶点为已访问
3. 递归访问该顶点的所有未访问邻接顶点
4. 重复步骤3，直到所有顶点都被访问

#### 时间复杂度
- 邻接矩阵：O(V²)
- 邻接表：O(V+E)

### 2. 广度优先搜索（BFS）
从某个顶点开始，逐层访问图的所有顶点。

#### 算法步骤
1. 访问起始顶点并加入队列
2. 标记该顶点为已访问
3. 从队列中取出顶点，访问其所有未访问邻接顶点
4. 将未访问的邻接顶点加入队列
5. 重复步骤3-4，直到队列为空

#### 时间复杂度
- 邻接矩阵：O(V²)
- 邻接表：O(V+E)

## 图的应用

### 1. 社交网络
- 顶点表示用户
- 边表示用户之间的关系
- 用于分析社交关系、推荐系统等

### 2. 交通网络
- 顶点表示地点
- 边表示道路
- 用于路径规划、导航系统等

### 3. 计算机网络
- 顶点表示网络节点
- 边表示网络连接
- 用于网络拓扑分析、路由算法等

### 4. 知识图谱
- 顶点表示实体
- 边表示实体之间的关系
- 用于知识推理、问答系统等

### 5. 编译器
- 顶点表示变量或语句
- 边表示依赖关系
- 用于数据流分析、优化等

## 图的算法

### 1. 最短路径算法
- **Dijkstra算法**：单源最短路径
- **Floyd-Warshall算法**：所有顶点对最短路径
- **Bellman-Ford算法**：处理负权边的最短路径

### 2. 最小生成树算法
- **Kruskal算法**：基于边的贪心算法
- **Prim算法**：基于顶点的贪心算法

### 3. 拓扑排序
- 对有向无环图进行线性排序
- 用于任务调度、依赖分析等

### 4. 强连通分量
- 找到有向图中的强连通分量
- 用于编译器、网络分析等

## 图的复杂度分析

### 时间复杂度
| 操作 | 邻接矩阵 | 邻接表 |
|------|----------|--------|
| 查找边 | O(1) | O(degree) |
| 遍历所有边 | O(V²) | O(V+E) |
| 添加顶点 | O(V) | O(1) |
| 添加边 | O(1) | O(1) |
| 删除顶点 | O(V) | O(degree) |
| 删除边 | O(1) | O(degree) |

### 空间复杂度
- **邻接矩阵**：O(V²)
- **邻接表**：O(V+E)
- **边集**：O(E)

## 图的选择原则

### 1. 根据图的性质选择
- **稠密图**：使用邻接矩阵
- **稀疏图**：使用邻接表
- **频繁查找边**：使用邻接矩阵
- **频繁遍历**：使用邻接表

### 2. 根据操作特点选择
- **静态图**：邻接矩阵
- **动态图**：邻接表
- **内存受限**：邻接表
- **性能优先**：邻接矩阵

### 3. 根据应用场景选择
- **图算法**：根据算法特点选择
- **数据库**：根据查询模式选择
- **网络分析**：根据网络特征选择

## 学习重点

### 1. 理论基础
- 理解图的基本概念和性质
- 掌握图的分类和表示方法
- 了解图的基本操作

### 2. 实现技能
- 能够实现图的存储结构
- 掌握图的遍历算法
- 理解图算法的实现

### 3. 应用能力
- 能够根据问题选择合适的图结构
- 掌握图在实际中的应用
- 理解图算法的复杂度分析

## 总结
图是计算机科学中最重要的数据结构之一，掌握图的基本概念、表示方法、基本操作和算法，对于学习更复杂的图算法和解决实际问题具有重要意义。在实际应用中，需要根据具体需求选择合适的图表示方法和算法，平衡时间复杂度和空间复杂度，实现最优的解决方案。
