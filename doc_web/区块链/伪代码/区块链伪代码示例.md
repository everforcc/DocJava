# 区块链伪代码示例

本示例用伪代码描述一个最简区块链的核心结构和操作流程，便于理解区块链的基本原理。

---

## 1. 区块结构定义

```
class Block {
    int index                // 区块编号
    string previousHash      // 上一个区块的哈希
    string timestamp         // 时间戳
    string data              // 区块存储的数据
    string hash              // 当前区块的哈希
}
```

## 2. 计算区块哈希

```
function calculateHash(block):
    return SHA256(block.index + block.previousHash + block.timestamp + block.data)
```

## 3. 创建创世区块

```
function createGenesisBlock():
    block = new Block()
    block.index = 0
    block.previousHash = "0"
    block.timestamp = currentTime()
    block.data = "Genesis Block"
    block.hash = calculateHash(block)
    return block
```

## 4. 添加新区块

```
function addBlock(blockchain, newData):
    previousBlock = blockchain.last()
    newBlock = new Block()
    newBlock.index = previousBlock.index + 1
    newBlock.previousHash = previousBlock.hash
    newBlock.timestamp = currentTime()
    newBlock.data = newData
    newBlock.hash = calculateHash(newBlock)
    blockchain.append(newBlock)
```

## 5. 校验区块链有效性

```
function isValidChain(blockchain):
    for i from 1 to blockchain.length-1:
        current = blockchain[i]
        previous = blockchain[i-1]
        if current.previousHash != previous.hash:
            return false
        if current.hash != calculateHash(current):
            return false
    return true
```

---

## 6. 使用流程示例

```
blockchain = [createGenesisBlock()]
addBlock(blockchain, "第一个区块数据")
addBlock(blockchain, "第二个区块数据")

if isValidChain(blockchain):
    print("区块链有效")
else:
    print("区块链被篡改")
```

---

> 以上为最简区块链伪代码，实际应用中还需考虑网络同步、共识机制、数字签名等。 