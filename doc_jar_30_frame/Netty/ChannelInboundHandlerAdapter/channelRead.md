<span  style="font-family: Simsun,serif; font-size: 17px; ">

### channelRead

### 触发条件

- 数据到达：当Netty通道接收到新的数据包时触发
- 消息可读：远程客户端向服务器发送数据时触发

### 在小鱼设备场景中的具体表现

- 设备发送数据包：充电桩设备向服务器发送协议数据包时触发
- 不同功能码处理：根据数据包中的功能码执行不同的业务逻辑
    - 功能码1：设备注册
    - 功能码2：心跳包
    - 功能码0x05：停止充电指令
    - 功能码0x06：端口开启结果

### 触发时机

- 设备连接后：设备成功连接到服务器后发送的任何数据都会触发
- 定期心跳：设备定期发送的心跳包触发
- 状态变更：设备状态发生变化时发送的数据触发
- 控制指令响应：设备对服务器控制指令的响应触发

### 数据处理流程

- 接收设备发送的 XiaoyuDecoder.DataPacket 对象
- 解析设备编号和功能码
- 根据功能码执行相应的业务处理逻辑
- 将处理任务提交到线程池异步执行

</span>