<span  style="font-family: Simsun,serif; font-size: 17px; ">

- decorator

[TOC]

### 函数装饰器

~~~
def repeat(num_times):
    def decorator(func):
        def wrapper(*args, **kwargs):
            for _ in range(num_times):
                func(*args, **kwargs)
        return wrapper
    return decorator

@repeat(3)
def say_hello():
    print("Hello!")

say_hello()
~~~

- repeat 函数是一个装饰器工厂，
- 它接受一个参数 num_times，返回一个装饰器 decorator。
- decorator 接受一个函数 func，并返回一个 wrapper 函数。
- wrapper 函数会调用 func 函数 num_times 次。
- 使用 @repeat(3) 装饰s ay_hell 函数后，调用 say_hello 会打印 "Hello!" 三次。

### 类装饰器

- 函数形式的类装饰器（接收类作为参数，返回新类）
- 类形式的类装饰器（实现 __call__ 方法，使其可调用）

### 内置装饰器

- @staticmethod: 将方法定义为静态方法，不需要实例化类即可调用。
- @classmethod: 将方法定义为类方法，第一个参数是类本身（通常命名为 cls）。
- @property: 将方法转换为属性，使其可以像属性一样访问。

### 多个装饰器的堆叠

- 从上到下依次调用

</span>