<span  style="font-family: Simsun,serif; font-size: 17px; ">

### 1. conf/example/instance.properties

- 参考mysql查询脚本的结果

~~~properties
# position info
canal.instance.master.address=127.0.0.1:3306
canal.instance.master.journal.name=DESKTOP-3CK8IIS-bin.000485
canal.instance.master.position=157
canal.instance.master.timestamp=
canal.instance.master.gtid=

# 代码连接的端口和
canal.destinations = example
canal.port = 11111

# username/password
canal.instance.dbUsername=canal
canal.instance.dbPassword=Canal@123456
~~~

#### canal.destinations

- 全局配置：在canal.properties中设置canal.destinations=example1,example2，表示监控两个数据库实例。
- 实例配置：每个实例需在conf/目录下创建独立文件夹（如example1、example2），并配置对应的instance.properties文件。
- 实例文件夹需与canal.destinations中的名称一致。
- 每个实例的instance.properties需指定独立的数据库连接信息（如IP、用户名、密码）。

### 2. 版本兼容

- 报错

~~~shell
C:\cc\middleware\canal.deployer-1.1.8.tar\canal.deployer-1.1.8\bin>startup.bat start cmd : java -Xms128m -Xmx512m -XX:PermSize=128m -Djava.awt.headless=true -Djava.net.preferIPv4Stack=true -Dapplication.codeset=UTF-8 -Dfile.encoding=UTF-8 -server -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=9099,server=y,suspend=n -DappName=otter-canal -Dlogback.configurationFile="C:\cc\middleware\canal.deployer-1.1.8.tar\canal.deployer-1.1.8\bin\..\conf\logback.xml" -Dcanal.conf="C:\cc\middleware\canal.deployer-1.1.8.tar\canal.deployer-1.1.8\bin\..\conf\canal.properties" -classpath "C:\cc\middleware\canal.deployer-1.1.8.tar\canal.deployer-1.1.8\bin\..\conf..\lib*;C:\cc\middleware\canal.deployer-1.1.8.tar\canal.deployer-1.1.8\bin\..\conf" java -Xms128m -Xmx512m -XX:PermSize=128m -Djava.awt.headless=true -Djava.net.preferIPv4Stack=true -Dapplication.codeset=UTF-8 -Dfile.encoding=UTF-8 -server -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=9099,server=y,suspend=n -DappName=otter-canal -Dlogback.configurationFile="C:\cc\middleware\canal.deployer-1.1.8.tar\canal.deployer-1.1.8\bin\..\conf\logback.xml" -Dcanal.conf="C:\cc\middleware\canal.deployer-1.1.8.tar\canal.deployer-1.1.8\bin\..\conf\canal.properties" -classpath "C:\cc\middleware\canal.deployer-1.1.8.tar\canal.deployer-1.1.8\bin\..\conf..\lib*;C:\cc\middleware\canal.deployer-1.1.8.tar\canal.deployer-1.1.8\bin\..\conf" com.alibaba.otter.canal.deployer.CanalLauncher Unrecognized VM option 'PermSize=128m' Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit.
~~~

- 处理
- -XX:PermSize=128m 这个JVM参数在较新版本的Java中已被移除。从Java 8开始，永久代(PermGen)被元空间(Metaspace)替代，因此这个参数不再有效。

1. 修改启动脚本 编辑 startup.bat 文件，删除或注释掉包含 -XX:PermSize=128m 的行：

~~~shell
# 将原来的启动参数：
-Xms128m -Xmx512m -XX:PermSize=128m

# 修改为：
-Xms128m -Xmx512m

~~~

2. 替换为现代JVM参数（推荐）

~~~shell
-Xms128m -Xmx512m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=256m
~~~

- 如果使用的是Java 8或更高版本，则必须修改启动参数；如果是Java 7或更低版本，则参数应该是有效的。 修改完成后重新运行 startup.bat 即可正常启动 canal 服务。

</span>