
-- 计算金额
-- 应收
-- 应收 1000
select 1000 '应收' from dual;
-- 卡抵扣
-- 1000-((1000-10 次卡)*0.9 折扣卡) = 卡抵扣金额 109.0
select 1000-((1000-10)*0.9) '卡抵扣' from dual;
-- 891.0
select ((1000-10)*0.9) '卡抵扣后金额' from dual;
-- 商家录入，用户实际付款金额
select  800 '商家录入，用户实际付款金额' from dual;
-- 优惠 91.0
select  891.0-800 '优惠' from dual;

-- 卡消费 + 卡抵扣 = 应收
-- 实收 = 卡消费

-- 应收 1000
-- 实收 1000
-- 卡消费 1000

