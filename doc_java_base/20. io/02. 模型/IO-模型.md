<span style="font-family:Simsun,serif; font-size:17px;">

[TOC]

### Java IO 模型

- BIO
- NIO
- IO 多路复用
- 信号驱动
- AIO

~~~
BIO -> NIO
NIO -> IO多路复用
~~~

### 1. BIO-阻塞 I/O

- BIO（Blocking I/O）是最传统的IO模型，也称为同步阻塞IO。
- 是指进程发起调用后，会被挂起（阻塞），直到收到数据再返回。
    - 如果调用一直不返回，进程就会一直被挂起。
- 因此，当使用阻塞 I/O 时，需要使用多线程来处理多个文件描述符。

#### 1.1 优点

- 实现简单

#### 1.2 缺点

- 每个连接都需要一个线程来处理，当并发连接数增加时，线程的数量也会增加，可能导致系统资源耗尽。

### 2. NIO-非阻塞 I/O

- NIO（Non-blocking I/O）?是一种非阻塞式IO模型。
- 多线程切换有一定的开销，因此引入非阻塞 I/O。
- 非阻塞 I/O 不会将进程挂起，调用时会立即返回成功或错误，因此可以在一个线程里轮询多个文件描述符是否就绪。

#### 2.1 优点

- 提高了单个线程处理多个连接的能力，降低了系统资源消耗。
- 可以处理大量并发连接。

#### 2.2 缺点

- 每次发起系统调用，只能检查一个文件描述符是否就绪。
- 当文件描述符很多时，系统调用的成本很高。
- 实现相对复杂。
- 需要手动管理缓冲区、选择器等。

### 3.1 I/O 多路复用

- [多路IO复用模型：非阻塞IO](https://zhuanlan.zhihu.com/p/615586279)
- 可以通过一次系统调用，检查多个文件描述符的状态。
- 这是 I/O 多路复用的主要优点，相比于非阻塞 I/O，在文件描述符较多的场景下，避免了频繁的用户态和内核态的切换，减少了系统调用的开销。
- I/O 多路复用相当于将「遍历所有文件描述符、通过非阻塞 I/O 查看其是否就绪」的过程从用户线程移到了内核中，由内核来负责轮询。

#### 3.1 优点

- I/O 多路复用引入了一些额外的操作和开销，性能更差。但是好处是用户可以在一个线程内同时处理多个 I/O 请求。
- 可以同时监听多个文件描述符，提高处理大量并发连接的能力。

#### 3.2 缺点

- 如果不采用 I/O 多路复用，则必须通过多线程的方式，每个线程处理一个 I/O 请求。后者线程切换也是有一定的开销的。

### AIO

- AIO（Asynchronous I/O）?是异步IO模型，基于事件和回调机制实现。
- 在这种模型中，应用操作后会直接返回，不会阻塞，当后台处理完成后，操作系统会通知相应的线程进行后续操作。
- AIO模型的优点是能够显著提高系统的并发处理能力，但实现复杂且需要较高的系统资源。

</span>